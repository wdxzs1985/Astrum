<Window x:Class="Astrum.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="{Binding WindowTitle}" Height="480" Width="580" Icon="Images/Icon.png" ResizeMode="NoResize">
    <Grid>
        <Grid.Background >
            <ImageBrush ImageSource="Images/background.jpg" AlignmentX="Left" AlignmentY="Top" Stretch="UniformToFill"/>
        </Grid.Background>
        <Grid Name="LoginPanel" Visibility="Hidden" VerticalAlignment="Center" HorizontalAlignment="Center" Height="280" Width="220">
            <ComboBox Name="LoginUserComboBox" HorizontalAlignment="Center" Margin="0,0,0,0" VerticalAlignment="Top" Width="131" Height="132" ItemsSource="{Binding LoginUserList}" SelectedIndex="0" SelectionChanged="LoginUserComboBox_SelectionChanged" TextSearch.TextPath="name">

                <ComboBox.Resources>
                    <Style TargetType="{x:Type ComboBox}">
                        <Setter Property="IsDropDownOpen" Value="False"/>
                        <Style.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="IsDropDownOpen" Value="True"/>
                            </Trigger>
                        </Style.Triggers>
                    </Style>
                </ComboBox.Resources>

                <ComboBox.ItemTemplate >
                    <DataTemplate>
                        <StackPanel Orientation="Vertical" Margin="0,0,0,0">
                            <Image Height="110" Source="Images/UserIcon.png" Margin="0,0,0,0" Stretch="Fill"/>
                            <TextBlock Text="{Binding name}" Margin="0,0,0,0"/>
                        </StackPanel>
                    </DataTemplate>
                </ComboBox.ItemTemplate>
            </ComboBox>

            <TextBox Name="UsernameBox" HorizontalAlignment="Center" Height="24" Margin="0,160,0,0" TextWrapping="Wrap" VerticalAlignment="Top" Width="220"/>
            <PasswordBox Name="PasswordBox" HorizontalAlignment="Center" Margin="0,200,0,0" VerticalAlignment="Top" Width="220" Height="24"/>

            <Button Name="LoginButton"  Margin="0,240,0,0" Width="220" Height="40" Content="登陆" HorizontalAlignment="Center" VerticalAlignment="Top" Click="LoginButton_Click" Foreground="White" BorderBrush="Black" Background="{DynamicResource {x:Static SystemColors.ControlDarkDarkBrushKey}}"  >
                <Button.Template>
                    <ControlTemplate TargetType="Button" >
                        <StackPanel Orientation="Horizontal" Background="Transparent" Margin="0,0,0,0">
                            <Grid  Width="220" Height="36" >
                                <Image Name="LoginButtonUP" Source="Images/LoginButtonUP.png" Stretch="Fill" />
                                <ContentPresenter x:Name="Login" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="0,0,0,0" Content="{TemplateBinding Content}">
                                </ContentPresenter>
                            </Grid>
                        </StackPanel>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsEnabled" Value="false">
                                <Setter Property="Source" Value="Images/LoginButtonDown.png" TargetName="LoginButtonUP"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Button.Template>
            </Button>
        </Grid>

        <Grid Name="StatusPanel" Visibility="Visible">
            <Grid.Background >
                <ImageBrush ImageSource="Images/Loginbackground.jpg" AlignmentX="Left" AlignmentY="Top" Stretch="UniformToFill"/>
            </Grid.Background>
            <Grid HorizontalAlignment="Left" Height="30" Margin="30,220,0,0" VerticalAlignment="Top" Width="180">
                <Label Content="角色" Margin="0,0,0,0" Foreground="White" Width="73" Height="25" FontFamily="Microsoft YaHei" FontWeight="Bold" HorizontalContentAlignment="Center" VerticalContentAlignment="Center" VerticalAlignment="Center" HorizontalAlignment="Left">
                    <Label.Background>
                        <ImageBrush ImageSource="Images/pop.png" Opacity="0.85"/>
                    </Label.Background>
                </Label>
                <Label Content="{Binding Name}" HorizontalAlignment="Left" Margin="80,0,0,0" Width="100" Height="28" Background="#88FFFFFF" VerticalAlignment="Center"/>
            </Grid>

            <Grid HorizontalAlignment="Left" Height="53" Margin="430,300,0,0" VerticalAlignment="Top" Width="120">
                <Grid.RowDefinitions>
                    <RowDefinition Height="19*"/>
                    <RowDefinition Height="11*"/>
                </Grid.RowDefinitions>
                <Label Content="Fever" Margin="24,0" Foreground="White"  Width="72" Height="25"  FontFamily="Arial Black" HorizontalContentAlignment="Center" VerticalContentAlignment="Center" HorizontalAlignment="Center" VerticalAlignment="Top">
                    <Label.Background>
                        <ImageBrush ImageSource="Images/pop.png" Opacity="0.85"/>
                    </Label.Background>
                </Label>
                <ProgressBar Margin="10,2,10,0" Width="100" Height="10" HorizontalAlignment="Center" VerticalAlignment="Top" Grid.Row="1" Value="{Binding Fever}" ToolTip="{Binding Fever}"/>
            </Grid>

            <Grid HorizontalAlignment="Left" Height="30" Margin="220,220,0,0" VerticalAlignment="Top" Width="180">
                <Label Content="等级" Margin="0,0,0,0" Foreground="White"  Width="73" Height="25"  FontFamily="Arial Black" HorizontalContentAlignment="Center" VerticalContentAlignment="Center" HorizontalAlignment="Left">
                    <Label.Background>
                        <ImageBrush ImageSource="Images/pop.png" Opacity="0.85"/>
                    </Label.Background>
                </Label>
                <Label Content="{Binding Level}" HorizontalAlignment="Left" Margin="80,0,0,0" VerticalAlignment="Top" Width="100" Height="28" Background="#66FFFFFF"/>
            </Grid>

            <Grid HorizontalAlignment="Left" Height="30" Margin="30,260,0,0" VerticalAlignment="Top" Width="180">
                <Label Content="体力" Margin="0,0,0,0" Foreground="White"  Width="73" Height="25"  FontFamily="Microsoft YaHei" FontWeight="Bold" HorizontalContentAlignment="Center" VerticalContentAlignment="Center" VerticalAlignment="Center" HorizontalAlignment="Left">
                    <Label.Background>
                        <ImageBrush ImageSource="Images/pop.png" Opacity="0.85"/>
                    </Label.Background>
                </Label>
                <ProgressBar Name="StaminaProgress" HorizontalAlignment="Left" Height="10" Margin="80,0,0,0" VerticalAlignment="Center" Width="100" Maximum="100" Value="{Binding StaminaProgress, FallbackValue=0, Mode=OneWay, NotifyOnSourceUpdated=True, TargetNullValue=0}" Minimum="0" ToolTip="{Binding Stamina}" ValueChanged="ProgressBar_ValueChanged" />
            </Grid>

            <Grid HorizontalAlignment="Left" Height="26" Margin="220,260,0,0" VerticalAlignment="Top" Width="180">
                <Label Content="经验值" Margin="0,0,0,0" Foreground="White"  Width="73" Height="25"  FontFamily="Microsoft YaHei" FontWeight="Bold" HorizontalContentAlignment="Center" VerticalContentAlignment="Center" VerticalAlignment="Center" HorizontalAlignment="Left">
                    <Label.Background>
                        <ImageBrush ImageSource="Images/pop.png" Opacity="0.85"/>
                    </Label.Background>
                </Label>
                <ProgressBar Name="ExpProgress" HorizontalAlignment="Left" Height="10" Margin="80,0,0,0" VerticalAlignment="Center" Width="100"
        		Maximum="100" Minimum="0" Value="{Binding ExpProgress, FallbackValue=0, Mode=OneWay, NotifyOnSourceUpdated=True, TargetNullValue=0}"  ToolTip="{Binding Exp}"/>
            </Grid>

            <Grid HorizontalAlignment="Left" Height="26" Margin="30,300,0,0" VerticalAlignment="Top" Width="180">
                <Label Content="BP" Margin="0,0,0,0" Foreground="White"  Width="73" Height="25"  FontFamily="Arial Black" HorizontalContentAlignment="Center" VerticalContentAlignment="Center" HorizontalAlignment="Left">
                    <Label.Background>
                        <ImageBrush ImageSource="Images/pop.png" Opacity="0.85"/>
                    </Label.Background>
                </Label>
                <ProgressBar Name="BpProgress" HorizontalAlignment="Left" Height="10" Margin="80,0,0,0" VerticalAlignment="Center" Width="100" Maximum="6" Value="{Binding BpValue, FallbackValue=0, Mode=OneWay, NotifyOnSourceUpdated=True, TargetNullValue=0}" Minimum="0" ToolTip="{Binding Bp}" ValueChanged="ProgressBar_ValueChanged" />
            </Grid>

            <Grid HorizontalAlignment="Left" Height="26" Margin="220,300,0,0" VerticalAlignment="Top" Width="180">
                <Label Content="TP" Margin="0,0,0,0" Foreground="White"  Width="73" Height="25"  FontFamily="Arial Black" HorizontalContentAlignment="Center" VerticalContentAlignment="Center" HorizontalAlignment="Left">
                    <Label.Background>
                        <ImageBrush ImageSource="Images/pop.png" Opacity="0.85"/>
                    </Label.Background>
                </Label>
                <ProgressBar Name="TpProgress" HorizontalAlignment="Left" Height="10" Margin="80,0,0,0" VerticalAlignment="Center" Width="100" Maximum="100" Value="{Binding TpValue, FallbackValue=0, Mode=OneWay, NotifyOnSourceUpdated=True, TargetNullValue=0}" Minimum="0" ToolTip="{Binding Tp}" ValueChanged="ProgressBar_ValueChanged" />
            </Grid>

            <Grid HorizontalAlignment="Left" Height="30" Margin="30,340,0,0" VerticalAlignment="Top" Width="180">
                <Image Source="Images/instant-stamina_potion.png" Width="24" Height="24" HorizontalAlignment="Left" Margin="50,0,0,0" ToolTip="SP"/>

                <Label Content="{Binding StaminaStock}" HorizontalAlignment="Left" Margin="80,0,0,0" Width="100" Height="28" Background="#66FFFFFF" VerticalAlignment="Center"/>
            </Grid>

            <Grid HorizontalAlignment="Left" Height="30" Margin="220,340,0,0" VerticalAlignment="Top" Width="180">
                <Image Source="Images/instant-half_stamina_potion.png" Width="24" Height="24" HorizontalAlignment="Left" Margin="50,0,0,0" ToolTip="SP Half"/>
                <Label Content="{Binding StaminaHalfStock}" HorizontalAlignment="Left" Margin="80,0,0,0" VerticalAlignment="Top" Width="100" Height="28" Background="#66FFFFFF"/>
            </Grid>

            <Grid HorizontalAlignment="Left" Height="30" Margin="30,380,0,0" VerticalAlignment="Top" Width="180">
                <Image Source="Images/instant-bp_ether.png" Width="24" Height="24" HorizontalAlignment="Left" Margin="50,0,0,0" ToolTip="BP"/>
                <Label Content="{Binding BpStock}" HorizontalAlignment="Left" Margin="80,0,0,0" Width="100" Height="28" Background="#66FFFFFF" VerticalAlignment="Center"/>
            </Grid>

            <Grid HorizontalAlignment="Left" Height="30" Margin="220,380,0,0" VerticalAlignment="Top" Width="180">
                <Image Source="Images/instant-mini_bp_ether.png" Width="24" Height="24" HorizontalAlignment="Left" Margin="50,0,0,0" ToolTip="BP MINI"/>
                <Label Content="{Binding BpMiniStock}" HorizontalAlignment="Left" Margin="80,0,0,0" VerticalAlignment="Top" Width="100" Height="28" Background="#66FFFFFF"/>
            </Grid>

            <Grid Name="Controller" HorizontalAlignment="Left" Height="266" Margin="430,20,0,0" VerticalAlignment="Top" Width="120" Background="#FF2A4D70">

                <RadioButton x:Name="QuestButton" Content="Quest" HorizontalAlignment="Center" Margin="0,10,0,0" VerticalAlignment="Top" IsChecked="{Binding IsQuestEnable}" Foreground="White" Width="100" />
                <RadioButton x:Name="GuildBattleButton" Content="GuildBattle" HorizontalAlignment="Center" Margin="0,40,0,0" VerticalAlignment="Top" IsChecked="{Binding IsGuildBattleEnable}" Foreground="#FFF7F7F7" Width="100"/>

                <Label Content="体力药最大库存" HorizontalAlignment="Center" Margin="0,70,0,0" VerticalAlignment="Top" Width="100" Foreground="White"/>
                <TextBox HorizontalAlignment="Center" Height="23" Margin="0,100,0,0" TextWrapping="Wrap" Text="{Binding MinStaminaStock}" VerticalAlignment="Top" Width="100"/>


                <Label Content="BP药最大库存" HorizontalAlignment="Center" Margin="0,130,0,0" VerticalAlignment="Top" Width="100" Foreground="White"/>
                <TextBox HorizontalAlignment="Center" Height="23" Margin="0,160,0,0" TextWrapping="Wrap" Text="{Binding MinBpStock}" VerticalAlignment="Top" Width="100"/>


                <Button x:Name="StartButton" Content="Start" HorizontalAlignment="Center" Margin="10,212,10,0" VerticalAlignment="Top" Width="100" Height="44" Click="StartButton_Click" Foreground="White" >
                    <Button.Template>
                        <ControlTemplate TargetType="{x:Type Button}" >
                            <StackPanel Orientation="Horizontal" Background="Transparent" Margin="0,0,0,0" >
                                <Grid  Width="102" Height="44" >
                                    <Image x:Name="FunctionButtonUP" Source="Images/FunctionButtonUP.png" Stretch="Fill" Margin="0,0,0,0" />
                                    <ContentPresenter x:Name="Login" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="0,0,0,0" Content="{TemplateBinding Content}"/>
                                </Grid>
                            </StackPanel>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsPressed" Value="true">
                                    <Setter Property="Source" Value="Images/FunctionButtonDown.png" TargetName="FunctionButtonUP"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Button.Template>
                </Button>
            </Grid>

            <Grid HorizontalAlignment="Left" Height="190" Margin="30,20,0,0" VerticalAlignment="Top" Width="360">
                <Grid.Background>
                    <ImageBrush ImageSource="Images/textpop.png"/>
                </Grid.Background>
                <ScrollViewer x:Name="HistoryPanel" HorizontalAlignment="Left" Height="150" Margin="20,20,0,0" VerticalAlignment="Top" Width="290"  >
                    <TextBlock Text="{Binding History}"/>
                </ScrollViewer>
            </Grid>

        </Grid>
    </Grid>
</Window>
